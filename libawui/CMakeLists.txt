PROJECT(libawui)

CMAKE_MINIMUM_REQUIRED(VERSION 2.8.1)

INCLUDE(FindPkgConfig)

FIND_PACKAGE(OpenGL REQUIRED)
if(NOT OPENGL_FOUND)
	message("ERROR: OpenGL not found")
endif(NOT OPENGL_FOUND)
MESSAGE(STATUS "OpenGL: ${OPENGL_LIBRARIES}")

PKG_SEARCH_MODULE(SDL2 REQUIRED sdl2)

if(UNIX)
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -std=gnu++0x")
endif()

INCLUDE_DIRECTORIES(
	/usr/include/cairo/
	.
	${OPENGL_INCLUDE_DIR}
	${SDL2_INCLUDE_DIRS}
)

FILE(GLOB_RECURSE LIBAWUI_SOURCES awui/*.cpp )
FILE(GLOB_RECURSE LIBAWUI_HEADERS awui/*.h )

SOURCE_GROUP("Source" FILES ${LIBAWUI_SOURCES})
SOURCE_GROUP("Headers" FILES ${LIBAWUI_HEADERS})

ADD_LIBRARY(awui SHARED ${LIBAWUI_SOURCES} ${LIBAWUI_HEADERS})
ADD_LIBRARY(awui_static STATIC ${LIBAWUI_SOURCES} ${LIBAWUI_HEADERS})

TARGET_LINK_LIBRARIES(
	awui
	cairo
	${SDL2_LIBRARIES}
	GL
)
